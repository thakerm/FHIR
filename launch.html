<!DOCTYPE html>
<html>
  <head>
    <title>SMART on FHIR Launch</title>
    <script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.min.js"></script>
    
  </head>
  <body>

    <form>
      <label for="mrn">Medical Record Number:</label>
      <input type="text" id="mrn" name="mrn">
      <button type="button" onclick="locatePSA()">Locate PSA Data</button>
    </form>
    <script>
      function locatePSA()
      {
        const mrn = document.getElementById("mrn").value;
         FHIR.oauth2.authorize({
           client_id: '0ca57d5c-b00d-4714-a1f1-0a91569275ca',
           scope: 'launch launch/patient patient/observation.read',
           iss: 'https://fhir.epic.com/interconnect-fhir-oauth/',
           patientID: mrn
         });
       }
       
     </script>
  </body>
</html>
