<!DOCTYPE html>
<html>
<head>
    <title>My SMART on FHIR App</title>
</head>
<body>
    <h1>My SMART on FHIR App</h1>
    <div id="patient-data"></div>

    <script src="https://cdn.jsdelivr.net/npm/fhirclient/dist/fhir-client.min.js"></script>
    <script>
        FHIR.oauth2.ready().then(client => {
            client.patient.read().then(patient => {
                const patientData = `
                    <p>Name: ${patient.name[0].given.join(' ')} ${patient.name[0].family}</p>
                    <p>Gender: ${patient.gender}</p>
                    <p>Birthdate: ${patient.birthDate}</p>
                `;
                document.getElementById('patient-data').innerHTML = patientData;
            });
        });
    </script>
</body>
</html>
