<!-- launch.html -->
<script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.js"></script>
<script>
    // This is the SMART on FHIR script that should use the client_id and scope from the app registration to open Epic Sandbox and launch the app
    FHIR.oauth2.authorize({
        response_type: 'code',
  client_id: '0ca57d5c-b00d-4714-a1f1-0a91569275ca',
  scope: 'user/Patient.rs user/Observation.rs launch/patient online_access openid fhirUser',
  iss: 'https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/', // The URL of the authorization server',
  aud: 'https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/', // The URL of the resource server (optional)',
  redirect_uri: 'https://thakerm.github.io/FHIR/index.html'
 //redirect_uri: 'http://127.0.0.1:5500/index.html'
}, function(error) {
  if (error) {
    // Authorization error occurred
    console.error('Authorization Error:', error);
    // You can handle the error here, display an error message, or perform any other necessary actions.
  } else {
    // Authorization successful
    console.log('Authorization successful!');
    // You can proceed with your application logic here.
  }
});
</script>